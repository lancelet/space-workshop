\documentclass[12pt,openany]{book}
\usepackage[a4paper,top=2.5cm,bottom=2.5cm,left=2cm,right=2cm]{geometry}

\usepackage{amsmath}

\usepackage[numbers]{natbib}

\usepackage[breaklinks,hidelinks]{hyperref}

\usepackage{booktabs}

\usepackage{tcolorbox}
\tcbuselibrary{skins}

\usepackage{xcolor}

\usepackage{fancyhdr}
\pagestyle{plain}

% Glossary of mathematical symbols
\usepackage{siunitx}
\sisetup{per-mode = symbol}
\usepackage[symbols,nogroupskip,sort=none]{glossaries-extra}
\glsxtrnewsymbol[description={Control signal for fuel mass flow rate (\si{\kg\per\s}).}]{cm}{\ensuremath{c_{\dot{m}}}}
\glsxtrnewsymbol[description={Control signal for thrust force orientation (radians).}]{ctheta}{\ensuremath{c_{\theta}}}
\glsxtrnewsymbol[description={Total force on the rocket (\si{\N}).}]{F}{\ensuremath{\mathbf{F}}}
\glsxtrnewsymbol[description={Aerodynamic drag force acting on the rocket (\si{\N}).}]{FD}{\ensuremath{\mathbf{F}_D}}
\glsxtrnewsymbol[description={Gravitational force acting on the rocket (\si{\N}).}]{FG}{\ensuremath{\mathbf{F}_G}}
\glsxtrnewsymbol[description={Thrust force (\si{\N}).}]{FT}{\ensuremath{\mathbf{F}_T}}
\glsxtrnewsymbol[description={Magnitude of the thrust force (\si{\N}).}]{FTmag}{\ensuremath{F_T}}
\glsxtrnewsymbol[description={Standard gravity at sea level (constant), $g_0=\num{9.80665}$ (\si{\m\per\s\squared}).}]{g0}{\ensuremath{g_0}}
\glsxtrnewsymbol[description={Specific impulse, $I_{sp}=\gls{ve}/\gls{g0}$ (\si{\s}).}]{Isp}{\ensuremath{I_{sp}}}
\glsxtrnewsymbol[description={Instantaneous mass of the rocket (\si{\kg}).}]{m}{\ensuremath{m}}
\glsxtrnewsymbol[description={Mass of the rocket at the start of a burn (\si{\kg}).}]{m0}{\ensuremath{m_0}}
\glsxtrnewsymbol[description={Time (\si{\s}).}]{t}{\ensuremath{t}}
\glsxtrnewsymbol[description={Velocity of the rocket (\si{\m\per\s}).}]{v}{\ensuremath{\mathbf{v}}}
\glsxtrnewsymbol[description={Magnitude of the velocity of the rocket (\si{\m\per\s}).}]{vmag}{\ensuremath{v}}
\glsxtrnewsymbol[description={Average exhaust speed along the engine axis (\si{\m\per\s}).}]{ve}{\ensuremath{v_e}}
\glsxtrnewsymbol[description={Position of the rocket (\si{\m}).}]{x}{\ensuremath{\mathbf{x}}}

\renewcommand{\contentsname}{Table of Contents}

% Paragraph setting
\setlength{\parindent}{0em}
\setlength{\parskip}{1em}

% Set fonts
\usepackage{fontspec}
\setmainfont{Tex Gyre Pagella}
\setsansfont{Verdana}

% Chapter styling
\usepackage[grey]{quotchap}
\makeatletter
\renewcommand*{\chapnumfont}{%
  \usefont{T1}{\@defaultcnfont}{b}{n}\fontsize{80}{100}\selectfont% Default: 100/130
  \color{chaptergrey}%
}
\makeatother

% Custom mathematics
\renewcommand{\vec}[1]{\ensuremath{\mathbf{#1}}}
\newcommand{\vecdot}[1]{\ensuremath{\dot{\mathbf{#1}}}}

% Mathematical symbols environment
\newenvironment{symbols}
{%
  \begin{flushright}%
  \begin{tcolorbox}[enhanced,width=0.9\textwidth,colback=black!8!white,frame hidden]%
  \begin{tabular}{cp{0.8\textwidth}l}%
}
{%
  \end{tabular}%
  \end{tcolorbox}%
  \end{flushright}%
}
\newcommand{\unitsforce}{$\mathrm{N}$}
\newcommand{\unitsmass}{$\mathrm{kg}$}
\newcommand{\unitsacceleration}{$\mathrm{m}/\mathrm{s}^2$}
\newcommand{\unitstime}{$\mathrm{s}$}
\newcommand{\unitsmassflowrate}{$\mathrm{kg}/\mathrm{s}$}
\newcommand{\unitslength}{$\mathrm{m}$}
\newcommand{\unitsvelocity}{$\mathrm{m}/\mathrm{s}$}
\newcommand{\unitsradians}{$\mathrm{radians}$}

\title{
  The Haskell Space Program\\
  Planning an Orbital Launch
}
\author{
  Jonathan Merritt
  \and
  Luke Clifton
}
\date{Feb 2019}

\begin{document}
\maketitle
\tableofcontents

\chapter{Introduction}

\chapter{Rocket Equations of Motion}
\label{ch:rocket-eom}

The equations of motion of our rocket are a set of coupled, first-order, ordinary differential equations (ODEs). They describe the related rates of change of quantities that determine the rocket's motion. They provide a basis for all the simulation we will do later.

We will use a point mass model for the rocket. This means that we will model its linear motion, but not any angular motion. For a more complete consideration of these equations, consult \cite{gantmacher1950}.

\section{Governing Equations}

Newton's second law (Eq~\ref{eq:newton2}) is the main equation of motion for the rocket, relating the force applied to the rocket, \gls{F}, its instantaneous mass, \gls{m}, and its acceleration, $\dot{\gls{v}}$:
\begin{align}
  \gls{F} &= \gls{m} \dot{\gls{v}}  \label{eq:newton2}
\end{align}
One complexity of modeling a rocket compared with other point masses is that the mass of the rocket varies with time. We are using Newton's overdot notation for time derivatives:
\begin{align}
  \dot{a} = \frac{da}{d\gls{t}}
\end{align}
for some quantity $a$.

Energy released by burning fuel creates an ejection of reaction mass from the rocket nozzle, which results in a thrust force. There is a relationship between mass flow rate, $\dot{\gls{m}}$, caused by burning the fuel, and the magnitude of thrust force exerted on the rocket, \gls{FTmag}. Modeling this relationship in full is a complicated hydrodynamics problem. However, we can approximate it as a linear relationship using a coefficient called specific impulse, \gls{Isp}:
\begin{align}
  \gls{FTmag} &= \left( \gls{g0} \, \gls{Isp} \right) \dot{\gls{m}}
\end{align}
Where \gls{g0} is the standard acceleration due to gravity at the surface of the earth.

\section{Coupled ODEs}

We can write a set of first-order ODEs describing the rocket motion in the following form, based on the governing equations above:
\begin{align}
  \dot{\gls{m}} &= \gls{cm} \\
  \dot{\gls{x}} &= \gls{v} \\
  \dot{\gls{v}} &= \frac{\gls{F}}{\gls{m}} \label{eq:accel}
\end{align}
in which \gls{cm} is a control signal for the mass flow rate that we will provide as input to the system. The force is decomposed into terms describing thrust, \gls{FT}, gravity, \gls{FG}, and aerodynamic drag, \gls{FG}:
\begin{align}
  \gls{F} &= \gls{FG}(\gls{x})
  + \gls{FT}(\gls{cm},\gls{ctheta})
  + \gls{FD}(\ldots) 
\end{align}
in which \gls{x} is the position of the rocket and \gls{ctheta} is a control signal for the thrust orientation. The remaining details will be described during the following chapters.

\chapter{Tsiolkovsky Rocket Equation and Delta-V}

Many discussions of rocket missions start with a quantity know as ``Delta-V''. It comes from the Tsiolkovsky Rocket Equation, which can be derived by integrating the equations of motion from Chapter~\ref{ch:rocket-eom} under certain assumptions.

\section{Derivation of the Tsiolkovsky Equation}

Consider a rocket burning fuel and moving in a consistent direction in a vacuum. There are no gravity or aerodynamic drag forces. If we assume that the mass flow rate of propellant is constant, then we can write the instantaneous mass of the rocket as:
\begin{align}
  \gls{m}(\gls{t}) &= \gls{m0} - \dot{\gls{m}}\gls{t}
\end{align}
The acceleration of the rocket during this constant burn is given by the equation of motion for the acceleration (Eq~\ref{eq:accel}). Now we can use scalar values, and consider only the thrust force:
\begin{align}
  \dot{\gls{vmag}} &= \frac{\gls{FTmag}}{\gls{m}}
\end{align}

\printunsrtglossary[type=symbols,style=long]

\bibliographystyle{plainnat}
\bibliography{references.bib}

\end{document}
